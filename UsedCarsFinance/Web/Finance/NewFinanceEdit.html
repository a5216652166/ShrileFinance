<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>融资申请</title>
    <link href="../Content/easyui/themes/bootstrap/easyui.css" rel="stylesheet" />
    <link href="../Content/easyui/themes/icon.css" rel="stylesheet" />
    <link href="../Content/form-bootstrap.css" rel="stylesheet" />
    <script src="../Scripts/jquery/jquery.js"></script>
    <script src="../Scripts/easyui/jquery.easyui.js"></script>
    <script src="../Scripts/easyui/locale/easyui-lang-zh_CN.js"></script>
    <script src="../Scripts/usedcars.js"></script>
    <style>
        .adddiv {
            background-color: #afe3fa;
            height: 30px;
            width: 95%;
            margin-left: 15px;
        }
        fieldset{
            margin-top:20px;
        }
        legend{
            font-size:18px;
        }
        .add {
            margin-top: 2px;
            margin-right: 10px;
            float: right;
            font-size: 20px;
            text-decoration: none;
        }

        .minusdiv {
            height: 30px;
            width: 98%;
        }
        /**手风琴样式**/
        .ac {
            font-family: 'BebasNeueRegular', 'Arial Narrow', Arial, sans-serif;
            padding: 2px 20px;
            position: relative;
            z-index: 20;
            display: block;
            height: 35px;
            cursor: pointer;
            color: #777;
            text-shadow: 1px 1px 1px rgba(255,255,255,0.8);
            line-height: 33px;
            font-size: 19px;
            box-shadow: 0px 0px 0px 1px rgba(155,155,155,0.3), 1px 0px 0px 0px rgba(255,255,255,0.9) inset, 0px 2px 2px rgba(0,0,0,0.1);
        }

        .ac-1 + .ac,
        .ac-1 + .ac:hover {
            background: #b7f2ff;
            color: #3d7489;
        }

        .ac:hover:after,
        .ac-1:checked + .ac:hover:after {
            content: '';
            background: #c6e1ec;
            position: absolute;
            width: 24px;
            height: 24px;
            right: 13px;
            top: 7px;
            background: url(images/arrow_down.png) no-repeat center center;
        }

        .ac-1:checked + .ac:hover:after {
            background-image: url('images/arrow_up.png');
        }

        .ac-1 {
            display: none;
        }

        article {
            background: rgba(255, 255, 255, 0.5);
            margin-top: -1px;
            overflow: hidden;
            height: 0px;
            position: relative;
            z-index: 10;
            -webkit-transition: height 0.6s ease-in-out, box-shadow 0.6s linear;
            -moz-transition: height 0.6s ease-in-out, box-shadow 0.6s linear;
            -o-transition: height 0.6s ease-in-out, box-shadow 0.6s linear;
            transition: height 0.6s ease-in-out, box-shadow 0.6s linear;
        }

        input:checked ~ article.Vehicle {
            height: 965px;
        }

        input:checked ~ article.produce {
            height: 920px;
        }

        input:checked ~ article.people {
            height: auto;
        }
    </style>


    <script>
        // 判断datagrid中行是否可编辑
        var editIndex = undefined;
        var contents = 0;//联系人个数
        var ownhouse = 0;//自有住房数

        uc.form = new UCForm(".container");

        $(function () {
            Init();
        });

        function Init() {
            //var query;
            //// 首次进行融资申请时,不存在InstanceData
            //if (typeof (parent.flow.InstanceData) == "undefined") {
            //    query = uc.GetParams();
            //}
            //// 合并URL参数和流程参数
            //else {
            //    query = $.extend(uc.GetParams(), parent.flow.InstanceData);
            //}

            LoadBrand();
            //if (query.Status == "1") {

            //} else {
            //}

            //if (query.FinanceId) {
            //    LoadData(query.FinanceId);
            //}

            //$("#InstanceId").val(parent.flow.InstanceId);
            //$("#OncePayMonthsDiv").hide();
            //$("#OncePayMonths").textbox({ required: false });
            LoadFinance();
        }
        //加载融资信息
        function LoadFinance() {
            var Id = "AFFEA390-C7AB-E611-80C6-507B9DE4A488";
            $.ajax({
                async: false,
                data: { Id: Id },
                type: "GET",
                url: "../api/FinanceAuidt/Get",
                statusCode: {
                    200: function (data) {
                        if (data != null) {
                            $("#financeId").val(data.Id);
                            $("#produce").form("load", data);
                            $("#produce").form("load", data.Produce);
                            CheckProduce();
                            FinanceProduce(data.FinanceProduce);
                            $("#Vehicle").form("load", data.Vehicle);
                            $("select[comboname='MakeCode']").combobox("unselect", data.Vehicle.MakeCode).combobox("select", data.Vehicle.MakeCode);
                            $("select[comboname='FamilyCode']").combobox("select", data.Vehicle.FamilyCode);
                            $("select[comboname='VehicleKey']").combobox("select", data.Vehicle.VehicleKey);
                            //加载联系人
                            LoadApplicant(data);
                        }
                    }
                }
            });
        }
        //加载联系人信息
        function LoadApplicant(data) {
            for (var i = 0; i < data.Applicant.length; i++) {
                //主要申请人
                if (data.Applicant[i].Type == "1") {
                    $("#mainapplicant").form("load", data.Applicant[i]);
                    if (data.Applicant[i].OwnHouse.length > 0) {
                        var house = $.parseJSON(data.Applicant[i].OwnHouse);
                        for (var j = 0; j < house.length; j++) {
                            AddOwnHouse();
                            $("#OwnHouse" + ownhouse).form("load", house[j]);
                        }
                    }
                }
                    //共同申请人
                else if (data.Applicant[i].Type == "2") {
                    $("#joint").form("load", data.Applicant[i]);
                }
                    //担保人
                else if (data.Applicant[i].Type == "3") {
                    $("#Guarantee").form("load", data.Applicant[i]);
                }
                    //联系人
                else {
                    AddContact();
                    $("#contact" + contents).form("load", data.Applicant[i]);
                }
            }
        }

        //加载融资产品的值
        function FinanceProduce(produce) {
            var Poundage = Array();
            var Financing = Array();
            for (var i = 0; i < produce.length; i++) {
                if (produce[i]["IsFinancing"] == false) {
                    Poundage.push(produce[i]);
                }
                else {
                    Financing.push(produce[i])
                }
            }
            $("#Poundage").datagrid("loadData", Poundage);
            $("#Financing").datagrid("loadData", Financing);
            CostCount("Poundage");
            CostCount("Financing");//这两句代码是计算金额求和
        }

        function CheckProduce() {
            var code = $("#Code").textbox("getText");
            $.ajax({
                async: false,
                data: { code: code },
                type: "GET",
                url: "../api/Produce/GetByCode",
                statusCode: {
                    200: function (data) {
                        if (data != null) {
                            $("#ProduceId").val(data.Id);
                            $("#Id").val(data.Id);//ProduceId、ID都表示产品ID
                            $("#produce").form("load", data);
                            $("#Poundage").datagrid("loadData", data.PoundageList);
                            $("#Financing").datagrid("loadData", data.FinancingItemsList);
                            CostCount("Poundage");
                            CostCount("Financing");//这两句代码是计算金额求和
                        }
                        else {
                            $("#ProduceId").val("");
                            $("#Id").val("");//ProduceId、ID都表示产品ID
                            $("#produce").form("clear");
                            $("#Poundage").datagrid("loadData", []);
                            $("#Financing").datagrid("loadData", []);
                            top.$.messager.show({ msg: "该编号对应的产品不存在" });
                        }
                    }
                }
            });
        }

        function LoadBrand() {
            $.ajax({
                async: false,
                method: "GET",
                url: '../api/CarHome/GetBrand',
                statusCode: {
                    200: function (data) {
                        $("select[comboname='MakeCode']").combobox("loadData", data);
                    }
                }
            });
        }
        function SelectModel(record) {
            $("select[comboname='FamilyCode']").combobox("clear");
            $("select[comboname='VehicleKey']").combobox("clear");
            $("input[textboxname='ManufacturerGuidePrice']").textbox("clear");
            $("input[textboxname='Displacement']").textbox("clear");
            $.ajax({
                async: false,
                data: { brandCode: record.value },
                method: 'GET',
                url: '../api/CarHome/GetSeries',
                statusCode: { 200: function (data) { $("select[comboname='FamilyCode']").combobox("loadData", data); } }
            });
        }
        function SelectCarConfigure(record) {
            $("select[comboname='VehicleKey']").combobox("clear");
            $("input[textboxname='ManufacturerGuidePrice']").textbox("clear");
            $("input[textboxname='Displacement']").textbox("clear");

            $.ajax({
                async: false,
                data: { brandCode: $("select[comboname='MakeCode']").combobox("getValue"), seriesCode: record.value },
                method: 'GET',
                url: '../api/CarHome/GetVehicle',
                statusCode: { 200: function (data) { $("select[comboname='VehicleKey']").combobox("loadData", data); } }
            });
        }

        function LoadVehiclePrice(vehicleKey) {
            $.ajax({
                async: false,
                type: "GET",
                url: "../api/CarHome/GetPriceByVehicleID",
                data: { vehicleKey: vehicleKey.value },
                statusCode: {
                    200: function (data) {
                        $("input[textboxname=ManufacturerGuidePrice]").textbox("setValue", data.ManufacturerGuidePrice);
                        $("input[textboxname=Displacement]").textbox("setValue", data.Displacement);
                    }
                }
            });
        }
        //双击编辑行
        function onEditor(index, field, value) {
            $('#Poundage').datagrid('getEditingRowIndexs');
            $('#Financing').datagrid('getEditingRowIndexs');
            if (editIndex != index) {
                var row = $('#' + this.id).datagrid("getSelected");
                //不可编辑状态
                if (row["IsEdit"] == false) {
                    $('#' + this.id).datagrid('selectRow', editIndex);
                }
                else {
                    if (endEditing(this.id)) {
                        $('#' + this.id).datagrid('selectRow', index)
                                .datagrid('beginEdit', index);
                        var ed = $('#' + this.id).datagrid('getEditor', { index: index, field: field });
                        if (ed != null) {
                            $(ed.target).focus();
                            editIndex = index;
                        }
                    } else {
                        $('#' + this.id).datagrid('selectRow', editIndex);
                    }
                }
            }
        }

        //结束编辑状态
        function endEditing(id) {
            if (editIndex == undefined) { return true }

            if ($('#' + id).datagrid('validateRow', editIndex)) {
                var ed = $('#' + id).datagrid('getEditors', editIndex);
                var money = $(ed[0].target).val();
                $('#' + id).datagrid('getRows')[editIndex]['Money'] = money;
                $('#' + id).datagrid('endEdit', editIndex);
                editIndex = undefined;
                return true;
            } else {
                return false;
            }
        }

        //结束编辑状态后保存数据在datagrid
        function accept(id) {
            if (endEditing(id)) {
                $('#' + id).datagrid('acceptChanges');
                CostCount(id);
            }
        }
        //手续费融资项求和
        function CostCount(id) {
            var count = 0;
            var rows = $("#" + id).datagrid("getRows");
            for (var i = 0; i < rows.length; i++) {
                count += parseInt($('#' + id).datagrid('getRows')[i]['Money']);
            }
            if (id == "Financing") {
                $("#FinancingCount").text(count);
            }
            else {
                $("#PoundageCount").text(count);
            }
        }

        //键盘enter键
        document.onkeydown = function (event) {
            var e = event || window.event || arguments.callee.caller.arguments[0];
            if (e && e.keyCode == 13) { // enter 键
                //只是在datagrid中回车时候回去datagrid的ID
                var id = $(e.target).parents(".panel.datagrid").find(".easyui-datagrid").attr("id")
                //防止在其他文本框按enter建时候报错
                if (id != undefined) {
                    accept(id);
                }
            }
        };

        $.extend($.fn.datagrid.methods, {
            getEditingRowIndexs: function (jq) {
                var id = $(jq).attr("id");
                var rows = $.data(jq[0], "datagrid").panel.find('.datagrid-row-editing');
                var indexs = [];
                rows.each(function (i, rows) {
                    accept(id)
                });
            }
        });

        //当有自有住房时候追加
        function AddOwnHouse() {
            ownhouse++;
            var template = document.querySelector("#ownHouseTemplate");
            var clone = document.importNode(template.content, true);
            $(clone.querySelectorAll("input[type=radio]")).each(function () {
                this.name += "_" + ownhouse;
            });
            $(clone.querySelector("input[name=ownHouseAddress]")).each(function () {
                this.name += "_" + ownhouse;
            });
            $(clone.querySelector("input[name=ownHouseSize]")).each(function () {
                this.name += "_" + ownhouse;
            });
            $(clone.querySelector("input[name=ownHouseRegisterDate]")).each(function () {
                this.name += "_" + ownhouse;
            });

            $("#OwnHouseCount").textbox("setValue", ownhouse);
            $('<fieldset>').attr({ "id": "OwnHouse" + ownhouse, "class": "house", "style": "margin:20px 0" }).append(clone).appendTo("#ownHouse")
            $.parser.parse('#ownHouse');
        }
        //移除自有住房
        function MinusOwnHouse(value) {
            $(value).parent().parent().remove();
            ownhouse--;
            $("#OwnHouseCount").textbox("setValue", ownhouse);
        }

        function AddContact() {
            contents++;
            var template = document.querySelector("#contactTemplate");
            var clone = document.importNode(template.content, true);
            $('<fieldset>').attr({ "id": "contact" + contents, "class": "applicant", "style": "margin:20px 0" }).append(clone).appendTo("#ContactContent")
            $.parser.parse('#contact' + contents);
        }
        function MinusContacts(value) {
            $(value).parent().parent().remove();
        }
        uc.grid = new UCGrid("#dg");
        function BeforeLoad(param) {
            param.Search = $("#ProductCodeOrName").textbox("getValue");
        }

        function Reload() {
            uc.grid.Reload();
        }
        function CheckProduct() {
            $("#dd").dialog('open');
            $("#dd").panel({ top: $(document).scrollTop() + ($(window).height() - 600) * 0.5 });
        }

        function ChooseProduce() {
            var row = $("#dg").datagrid("getSelected");
            $("#ProudceId").val(row["Id"]);
            $("#Code").textbox("setValue", row["Code"]);
            $("#dd").dialog('close');
        }

        function Submit() {
            //调用getEditingRowIndexs当点击保存时候保存手续费和融资项中的值到datagrid
            $('#Poundage').datagrid('getEditingRowIndexs');
            $('#Financing').datagrid('getEditingRowIndexs');

            var data = {};
            var ff = $(".container").find("article")
            for (var i = 0; i < ff.length - 1; i++) {
                temp = $(ff[i]).attr("class");
                var fs = new Array();
                var fieldset = $(ff[i]).children("fieldset");
                data[temp] = $(fieldset[0]).serializeJson();
            }
            //申请人中由于包括自有住房和联系人部分嵌套的fieldset所以单独处理
            var app = [];//用于存放联系人信息
            var house = [];//用于存放自有住房信息
            for (var i = 0; i < $(ff[ff.length - 1]).find("fieldset").length; i++) {
                var findclass = $($(ff[ff.length - 1]).find("fieldset")[i]).attr("class");
                if (findclass == "applicant") {
                    app.push($($(ff[ff.length - 1]).find("fieldset")[i]).serializeJson());
                }
                else if (findclass == "house") {
                    house.push($($(ff[ff.length - 1]).find("fieldset")[i]).serializeJson());
                }
            }

            //将自有住房添加到主要申请人中
            app[0]["OwnHouse"] = JSON.stringify(house);
            //将主要申请人信息存放到数组中
            data["Applicant"] = app;
            data["ProduceId"] = $("#ProduceId").val();;
            data["IntentionPrincipal"] = $("#IntentionPrincipal").textbox("getValue");
            data["OncePayMonths"] = $("#OncePayMonths").textbox("getValue");
            data["FinanceProduce"] = $('#Financing').datagrid('getRows');
            data["Id"] =$("#financeId").val();
            for (var i = 0; i < $('#Poundage').datagrid('getRows').length; i++) {
                data["FinanceProduce"].push($('#Poundage').datagrid('getRows')[i])
            }
            uc.form.Submit({
                method: "POST",
                url: "../api/FinanceAuidt/Modify",
                data: data
            });
        }


        //构建数据
        function BuildData() {
            var result = {};
            // 保存datagrid处在编辑状态时候的数据
            $('#Poundage').datagrid('getEditingRowIndexs');
            $('#Financing').datagrid('getEditingRowIndexs');

            var data = {};
            var ff = $(".container").find("article")
            for (var i = 0; i < ff.length - 1; i++) {
                temp = $(ff[i]).attr("class");
                var fs = new Array();
                var fieldset = $(ff[i]).children("fieldset");
                data[temp] = $(fieldset[0]).serializeJson();
            }
            //申请人中由于包括自有住房和联系人部分嵌套的fieldset所以单独处理
            var app = [];//用于存放联系人信息
            var house = [];//用于存放自有住房信息
            for (var i = 0; i < $(ff[ff.length - 1]).find("fieldset").length; i++) {
                var findclass = $($(ff[ff.length - 1]).find("fieldset")[i]).attr("class");
                if (findclass == "applicant") {
                    app.push($($(ff[ff.length - 1]).find("fieldset")[i]).serializeJson());
                }
                else if (findclass == "house") {
                    house.push($($(ff[ff.length - 1]).find("fieldset")[i]).serializeJson());
                }
            }
            //将自有住房添加到主要申请人中
            app[0]["OwnHouse"] = JSON.stringify(house);
            //将主要申请人信息存放到数组中
            data["Applicant"] = app;
            data["ProduceId"] = $("#ProduceId").val();;
            data["IntentionPrincipal"] = $("#IntentionPrincipal").textbox("getValue");
            data["OncePayMonths"] = $("#OncePayMonths").textbox("getValue");
            data["FinanceProduce"] = $('#Financing').datagrid('getRows');
            data["Id"] = $("#financeId").val();
            for (var i = 0; i < $('#Poundage').datagrid('getRows').length; i++) {
                data["FinanceProduce"].push($('#Poundage').datagrid('getRows')[i])
            }
            result["formName"] = "融资申请信息";
            result["buildData"] = data;

            return result;
        }
        //选择通讯地址类型时候加载单位地址和住宅地址
        function CAType(s) {
            if (s == 1) {
                $("#ContactAddress").textbox('setValue', $("#LiveHouseAddress").textbox('getValue'));
            }
            if (s == 2) {
                $("#ContactAddress").textbox('setValue', $("#OfficeAddress").textbox('getValue'));
            }
            $("#ContactAddress").textbox('readonly', true);//只读
            rdCA = s;
        }

        function ChooseMarital() {
            var status = $(this).combobox("getValue");
            if (status == 1) {
                $("#wife").show();
            }
            else {
                $("#wife").hide();
            }
        }


    </script>
</head>
<body>
    <form id="finance_ff" class="container">
        <div class="hidden">
            <input id="financeId" name="Id" type="hidden" />
            <input type="hidden" id="InstanceId" name="InstanceId">
            <input name="ProduceId" id="ProduceId" type="hidden" />

        </div>
        <div>
            <input id="ac-1" class="ac-1" name="accordion-1" type="checkbox" />
            <label for="ac-1" class="ac">基本信息</label>
            <article class="Vehicle">
                <fieldset id="Vehicle" style="margin-bottom:0px">
                    <input name="Id" id="Id" type="hidden" />
                    <legend>联系人信息</legend>
                    <div class="row">
                        <div class="col-6">
                            <label>渠道名称:</label>
                            <input name="ProxyArea" class="easyui-textbox" readonly />
                        </div>

                        <div class="col-6">
                            <label>联系人:</label>
                            <input name="Name" class="easyui-textbox" readonly />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <label>电话:</label>
                            <input name="Phone" class="easyui-textbox" readonly />
                        </div>
                    </div>

                    <legend style="margin-top:25px;">车辆信息</legend>
                    <div class="row">
                        <div class="col-6">
                            <label>车辆品牌:</label>
                            <select name="MakeCode" class="easyui-combobox" data-options="onSelect:SelectModel,required:true,editable:false"></select>
                        </div>

                        <div class="col-6">
                            <label>车辆系列:</label>
                            <select name="FamilyCode" class="easyui-combobox" data-options="onSelect:SelectCarConfigure,required:true,editable:false"></select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12">
                            <label>车辆车型:</label>
                            <select name="VehicleKey" class="easyui-combobox" data-options="required:true,editable:false,onSelect:LoadVehiclePrice"></select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>厂商指导价:</label>
                            <input name="ManufacturerGuidePrice" class="easyui-textbox" data-options="validType:'Price'" />
                            <span class="unit">万元</span>
                        </div>

                        <div class="col-6">
                            <label>排量:</label>
                            <input name="Displacement" class="easyui-textbox" />
                        </div>
                    </div>

                    <legend style="margin-top:25px;">车辆补充信息</legend>
                    <div class="row">
                        <div class="col-6">
                            <label>注册登记日期:</label>
                            <input name="RegisterDate" class="easyui-textbox" data-options="validType:'YearMonth'" />
                        </div>

                        <div class="col-6">
                            <label>行驶里程:</label>
                            <input name="RunningMiles" class="easyui-textbox" data-options="validType:'Integer'" />
                            <span class="unit">公里</span>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>车辆出厂日期:</label>
                            <input name="FactoryDate" class="easyui-textbox" data-options="validType:'Date'" />
                        </div>

                        <div class="col-6">
                            <label>业务类型:</label>
                            <select id="Type" name="Type" class="easyui-combobox" data-options="editable:false">
                                <option value="1">以租代购</option>
                                <option value="2">快速贷</option>
                                <option value="3">押车贷</option>
                                <option value="4">车抵贷</option>
                                <option value="5">二手车交易贷</option>
                                <option value="6">新车交易贷</option>
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>车辆上牌城市:</label>
                            <input name="RegisterCity" class="easyui-textbox" />
                        </div>

                        <div class="col-6">
                            <label>车况:</label>
                            <input id="VehicleCondition1" name="VehicleCondition" type="radio" checked="checked" value="1">新车
                            <input id="VehicleCondition2" name="VehicleCondition" type="radio" value="2">二手车
                        </div>
                    </div>
                </fieldset>
            </article>
        </div>
        <div>
            <input id="ac-2" class="ac-1" name="accordion-1" type="checkbox" />
            <label for="ac-2" class="ac">租赁信息</label>
            <article class="produce">
                <fieldset id="produce">
                    <legend>租赁信息</legend>
                    <input name="Id" id="Id" type="hidden" />

                    <div class="row">
                        <div class="col-6">
                            <label>产品代码:</label>
                            <input id="Code" name="Code" class="easyui-textbox" required data-options="width:360,onChange:CheckProduce" />
                            <a class="easyui-linkbutton" href="javascript:void(0)" data-options="onClick:CheckProduct">选择产品</a>
                            <!--<a onclick="CheckProduct()" style="float: right;padding-right:50px">
                                <img src="images/choose.png" />
                            </a>-->
                        </div>

                        <div class="col-6">
                            <label>产品名称:</label>
                            <input id="Name" name="Name" class="easyui-textbox" readonly />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>费率(年):</label>
                            <input name="CostRate" class="easyui-textbox" data-options="validType:'Numerical'" readonly />
                            <span class="unit">%</span>
                        </div>

                        <div class="col-6">
                            <label>还款方式:</label>
                            <input name="RepaymentMethodDesc" class="easyui-textbox" readonly />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>融资比例区间:</label>
                            <input name="MinFinancingRatio" class="easyui-textbox" style="width:190px;" readonly />
                            <span style="display:inline-block;width:22px; text-align:center;">-</span>
                            <input name="MaxFinancingRatio" class="easyui-textbox" style="width:190px;" readonly />
                            <span class="unit">%</span>
                        </div>

                        <div class="col-6">
                            <label>尾款比例:</label>
                            <input name="FinalRatio" class="easyui-textbox" readonly />
                            <span class="unit">%</span>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>融资期限:</label>
                            <input name="FinancingPeriods" class="easyui-textbox" readonly />
                            <span class="unit">月</span>
                        </div>

                        <div class="col-6">
                            <label>还款间隔:</label>
                            <input name="RepaymentInterval" class="easyui-textbox" readonly />
                            <span class="unit">月</span>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>客户保证金比例:</label>
                            <input name="CustomerBailRatio" class="easyui-textbox" readonly />
                            <span class="unit">%</span>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>客户手续费:</label>
                            <table id="Poundage" class="easyui-datagrid" data-options="height: 230,width:400,rownumbers: true,
                                loadMsg: '正在加载，请稍候...',
                                onDblClickCell:onEditor,
                                singleSelect:true,
                                ">
                                <thead>
                                    <tr>
                                        <th data-options="field:'FinancingProjectId',hidden:true">Id</th>
                                        <th data-options="field:'Name',width:185,align:'center'">名称</th>
                                        <th data-options="field:'Money',width:180,align:'center',editor:{type:'text',options:{required:true}}">价格</th>
                                        <th data-options="field:'IsFinancing',width:120,align:'center',hidden:true">是否是融资项</th>
                                        <th data-options="field:'IsEdit',width:120,align:'center',hidden:true">是否可编辑</th>
                                    </tr>
                                </thead>
                            </table>
                            <div style="margin-left: 250px;float:left">
                                <label>手续费总计:<span name="PoundageCount" id="PoundageCount" style="font-weight:bold" /></label>
                            </div>
                        </div>

                        <div class="col-6">
                            <label>融资项:</label>
                            <table id="Financing" class="easyui-datagrid" data-options="height: 230,width:400,rownumbers: true,  loadMsg: '正在加载，请稍候...',
                               onDblClickCell:onEditor,
                               singleSelect:true,
                               ">
                                <thead>
                                    <tr>
                                        <th data-options="field:'FinancingProjectId',hidden:true">Id</th>
                                        <th data-options="field:'Name',width:185,align:'center'">名称</th>
                                        <th data-options="field:'Money',width:180,align:'center',editor:{type:'text',options:{required:true}}">价格</th>
                                        <th data-options="field:'IsFinancing',width:120,align:'center',hidden:true">是否是融资项</th>
                                        <th data-options="field:'IsEdit',width:120,align:'center',hidden:true">是否可编辑</th>
                                    </tr>
                                </thead>
                            </table>

                            <div style="float:left;margin-left: 250px">
                                <label>融资项总计:<span name="FinancingCount" id="FinancingCount" style="font-weight:bold" /></label>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>意向融资金额:</label>
                            <input id="IntentionPrincipal" name="IntentionPrincipal" class="easyui-textbox" data-options="validType:'Price',required:true" />
                            <span class="unit">元</span>
                        </div>
                        <div class="col-6" id="OncePayMonthsDiv">
                            <label>月供先付期数:</label>
                            <input name="OncePayMonths" id="OncePayMonths" class="easyui-textbox" data-options="validType:'Integer',required:true" />
                            <span class="unit">期</span>
                        </div>
                    </div>
                </fieldset>

            </article>
        </div>
        <div>
            <input id="ac-3" class="ac-1" name="accordion-1" type="checkbox" />
            <label for="ac-3" class="ac">申请人信息</label>
            <article class="people">
                <fieldset id="mainapplicant" class="applicant">
                    <div class="hidden">
                        <input name="Type" type="hidden" value="1" />
                        <input name="Id" type="hidden" />
                    </div>
                    <legend>主要申请人</legend>
                    <div class="row">
                        <div class="col-6">
                            <label>姓名:</label>
                            <input id="Name" name="Name" class="easyui-textbox" data-options="required:true" />
                        </div>

                        <div class="col-6">
                            <label>性别:</label>
                            <select id="Sex" name="Sex" class="easyui-combobox" data-options="editable:false">
                                <option value="男">男</option>
                                <option value="女">女</option>
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>证件类型:</label>
                            <select id="IdentityType" name="IdentityType" class="easyui-combobox" data-options="editable:false">
                                <option value="身份证">身份证</option>
                                <option value="居住证">居住证</option>
                                <option value="户口本">户口本</option>
                                <option value="机动车驾驶证">机动车驾驶证</option>
                                <option value="军官证">军官证</option>
                                <option value="签证">签证</option>
                                <option value="护照">护照</option>
                            </select>
                        </div>

                        <div class="col-6">
                            <label>证件号码:</label>
                            <input id="Identity" name="Identity" class="easyui-textbox" data-options="required:true" />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>婚姻状况:</label>
                            <select id="MaritalStatus" name="MaritalStatus" class="easyui-combobox" data-options="editable:false,onSelect:ChooseMarital">
                                <option value="1">已婚</option>
                                <option value="2">未婚</option>
                                <option value="3">离异</option>
                                <option value="4">丧偶</option>
                            </select>
                        </div>

                        <div class="col-6">
                            <label>手机:</label>
                            <input id="Mobile" name="Mobile" class="easyui-textbox" data-options="validType:'Mobile',required:true" />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>住宅电话:</label>
                            <input id="Phone" name="Phone" class="easyui-textbox" data-options="validType:'PhoneOrMobile'" />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12">
                            <label>现居住地址:</label>
                            <input id="LiveHouseAddress" name="LiveHouseAddress" class="easyui-textbox" data-options="width:895,required:true" />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>户口所在地:</label>
                            <input id="RegisteredAddress" name="RegisteredAddress" class="easyui-textbox" data-options="required:true" />
                        </div>

                        <div class="col-6">
                            <label>单位名称:</label>
                            <input id="OfficeName" name="OfficeName" class="easyui-textbox" data-options="required:true" />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>部门:</label>
                            <input id="Department" name="Department" class="easyui-textbox" />
                        </div>

                        <div class="col-6">
                            <label>职位:</label>
                            <input id="position" name="Position" class="easyui-textbox" />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>行业:</label>
                            <select id="IndustryType" name="IndustryType" class="easyui-combobox" data-options="editable:false">
                                <option value="农、林、牧、渔业">农、林、牧、渔业</option>
                                <option value="采掘业">采掘业</option>
                                <option value="制造业">制造业</option>
                                <option value="电力、燃气及水的产业和供应业">电力、燃气及水的产业和供应业</option>
                                <option value="建筑业">建筑业</option>
                                <option value="交通运输、仓储和邮政业">交通运输、仓储和邮政业</option>
                                <option value="信息传输、计算机服务和软件业">信息传输、计算机服务和软件业</option>
                                <option value="批发和零售业">批发和零售业</option>
                                <option value="住宿和餐饮业">住宿和餐饮业</option>
                                <option value="金融业">金融业</option>
                                <option value="房地产业">房地产业</option>
                                <option value="租赁和商务服务业">租赁和商务服务业</option>
                                <option value="科学研究、技术服务业和地质勘察业">科学研究、技术服务业和地质勘察业</option>
                                <option value="水利、环境和公共设施管理业">水利、环境和公共设施管理业</option>
                                <option value="居民服务和其他服务业">居民服务和其他服务业</option>
                                <option value="教育">教育</option>
                                <option value="生、社会保障和社会福利业">卫生、社会保障和社会福利业</option>
                                <option value="文化、体育和娱乐业">文化、体育和娱乐业</option>
                                <option value="公共管理和社会组织">公共管理和社会组织</option>
                            </select>
                        </div>

                        <div class="col-6">
                            <label>单位电话:</label>
                            <input id="OfficePhone" name="OfficePhone" class="easyui-textbox" data-options="validType:'PhoneOrMobile'" />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12">
                            <label>单位地址:</label>
                            <input id="OfficeAddress" name="OfficeAddress" class="easyui-textbox" data-options="required:true" />
                        </div>
                    </div>
                    <div id="wife">
                        <div class="row">
                            <div class="col-6">
                                <label>配偶姓名:</label>
                                <input id="WifeName" name="WifeName" class="easyui-textbox" />
                            </div>

                            <div class="col-6">
                                <label>配偶移动电话:</label>
                                <input id="WifePhone" name="WifePhone" class="easyui-textbox" data-options="validType:'PhoneOrMobile'" />
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-6">
                                <label>配偶单位名称:</label>
                                <input id="WifeOfficeName" name="WifeOfficeName" class="easyui-textbox" />
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-12">
                                <label>配偶单位地址:</label>
                                <input id="WifeOfficeAddress" name="WifeOfficeAddress" class="easyui-textbox" />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <label>申请人月收入</label>
                            <input id="TotalMonthlyIncome" name="TotalMonthlyIncome" class="easyui-textbox" data-options="validType:'Price',required:true" /><span class="unit">元</span>
                        </div>
                        <div class="col-6">
                            <label>其他月收入:</label>
                            <input id="OtherIncome" name="OtherIncome" class="easyui-textbox" data-options="validType:'Price',required:true" /><span class="unit">元</span>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>家庭月收入:</label>
                            <input id="HomeMonthlyIncome" name="HomeMonthlyIncome" class="easyui-textbox" data-options="validType:'Price',required:true" /><span class="unit">元</span>
                        </div>

                        <div class="col-6">
                            <label>家庭月支出:</label>
                            <input id="HomeMonthlyExpend" name="HomeMonthlyExpend" class="easyui-textbox" data-options="validType:'Price',required:true" /><span class="unit">元</span>
                        </div>

                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>申请人学历:</label>
                            <select id="Degree" name="Degree" class="easyui-combobox" data-options="editable:false">
                                <option value="硕士及以上">硕士及以上</option>
                                <option value="本科">本科</option>
                                <option value="大专">大专</option>
                                <option value="高中">高中</option>
                                <option value="初中及以下">初中及以下</option>
                            </select>
                        </div>

                        <div class="col-6">
                            <label>供养人数:</label>
                            <input id="FamilyNumber" name="FamilyNumber" class="easyui-textbox" data-options="validType:'Integer',required:true" /><span class="unit">人</span>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12">
                            <label>通讯地址:</label>
                            <input id="ContactAddressType1" name="ContactAddressType" type="radio" class="easyui-validatebox" value="住宅" onclick="CAType(1)">住宅<span style="margin-right:20px;"> </span>
                            <input id="ContactAddressType2" name="ContactAddressType" type="radio" class="easyui-validatebox" value="单位" onclick="CAType(2)">单位<span style="margin-right:20px;"> </span>
                            <input id="ContactAddress" name="ContactAddress" class="easyui-textbox" data-options="width:760" />
                        </div>
                    </div>

                    <div class="row">
                        <div style="height: 30px;width: 95%; margin-left: 15px;">
                            <span style="font-size:18px">自有住房</span>
                            <a class="add" onclick="AddOwnHouse()">
                                <img src="images/add.png" />
                            </a>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>自有住房套数:</label>
                            <input id="OwnHouseCount" name="OwnHouseCount" class="easyui-textbox" readonly value="0">
                        </div>
                    </div>

                    <div id="ownHouse"></div>

                    <template id="ownHouseTemplate">
                        <div class="minusdiv">
                            <a class="add" onclick="MinusOwnHouse(this)">
                                <img src="images/minus.png" />
                            </a>
                        </div>

                        <div class="row">
                            <div class="col-6">
                                <label>自有住房类型:</label>
                                <input id="ownHouse1" name="OwnHouseType" type="radio" checked="checked" value="1" cl>自置（无按揭）
                                <input id="ownHouse2" name="OwnHouseType" type="radio" value="2">自置（有按揭）
                                <input id="ownHouse3" name="OwnHouseType" type="radio" value="3">其他
                            </div>

                            <div class="col-6">
                                <label>所有权:</label>
                                <input id="OwnerShip1" name="OwnerShip" type="radio" checked="checked" value="1">个人所有权
                                <input id="OwnerShip2" name="OwnerShip" type="radio" value="2">配偶所有权
                                <input id="OwnerShip3" name="OwnerShip" type="radio" value="3">夫妻共有
                                <input id="OwnerShip4" name="OwnerShip" type="radio" value="4">直系亲属所有
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-12">
                                <label>自有住房地址:</label>
                                <input id="ownHouseAddress" name="OwnHouseAddress" class="easyui-textbox" />
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-6">
                                <label>自有住房面积:</label>
                                <input id="ownHouseSize" name="OwnHouseSize" class="easyui-textbox" />
                            </div>

                            <div class="col-6">
                                <label>自有住房登记日期:</label>
                                <input id="ownHouseRegisterDate" name="OwnHouseRegisterDate" class="easyui-textbox" />
                            </div>
                        </div>

                        <div style="border-top: #00686b 1px dashed ;margin-top:10px;margin-bottom:25px;margin-right:40px">
                        </div>
                    </template>
                </fieldset>

                <fieldset id="joint" class="applicant">
                    <div class="hidden">
                        <input name="Type" type="hidden" value="2" />
                        <input name="Id" type="hidden" />
                    </div>
                    <legend>共同申请人</legend>

                    <div class="row">
                        <div class="col-6">
                            <label>姓名:</label>
                            <input id="Name" name="Name" class="easyui-textbox" data-options="required:true" />
                        </div>

                        <div class="col-6">
                            <label>性别:</label>
                            <select id="Sex" name="Sex" class="easyui-combobox" data-options="editable:false">
                                <option value="男">男</option>
                                <option value="女">女</option>
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>学历:</label>
                            <select id="Degree" name="Degree" class="easyui-combobox" data-options="editable:false">
                                <option value="硕士及以上">硕士及以上</option>
                                <option value="本科">本科</option>
                                <option value="大专">大专</option>
                                <option value="高中">高中</option>
                                <option value="初中及以下">初中及以下</option>
                            </select>
                        </div>

                        <div class="col-6">
                            <label>手机:</label>
                            <input id="Mobile" name="Mobile" class="easyui-textbox" data-options="validType:'Mobile',required:true" />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>与申请人关系:</label>
                            <select id="RelationWithMaster" name="RelationWithMaster" class="easyui-combobox" data-options="editable:false">
                                <option value="父母或子女">父母或子女</option>
                                <option value="兄弟姐妹">兄弟姐妹</option>
                                <option value="同事">同事</option>
                                <option value="同学">同学</option>
                                <option value="朋友">朋友</option>
                                <option value="夫妻">夫妻</option>
                                <option value="其他">其他</option>
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>证件类型:</label>
                            <select id="IdentityType" name="IdentityType" class="easyui-combobox" data-options="editable:false">
                                <option value="身份证">身份证</option>
                                <option value="居住证">居住证</option>
                                <option value="户口本">户口本</option>
                                <option value="机动车驾驶证">机动车驾驶证</option>
                                <option value="军官证">军官证</option>
                                <option value="签证">签证</option>
                                <option value="护照">护照</option>
                            </select>
                        </div>

                        <div class="col-6">
                            <label>证件号码:</label>
                            <input id="Identity" name="Identity" class="easyui-textbox" data-options="required:true"/>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>单位名称:</label>
                            <input id="OfficeName" name="OfficeName" class="easyui-textbox" data-options="required:true" />
                        </div>

                        <div class="col-6">
                            <label>行业:</label>
                            <select id="IndustryType" name="IndustryType" class="easyui-combobox" data-options="editable:false">
                                <option value="农、林、牧、渔业">农、林、牧、渔业</option>
                                <option value="采掘业">采掘业</option>
                                <option value="制造业">制造业</option>
                                <option value="电力、燃气及水的产业和供应业">电力、燃气及水的产业和供应业</option>
                                <option value="建筑业">建筑业</option>
                                <option value="交通运输、仓储和邮政业">交通运输、仓储和邮政业</option>
                                <option value="信息传输、计算机服务和软件业">信息传输、计算机服务和软件业</option>
                                <option value="批发和零售业">批发和零售业</option>
                                <option value="住宿和餐饮业">住宿和餐饮业</option>
                                <option value="金融业">金融业</option>
                                <option value="房地产业">房地产业</option>
                                <option value="租赁和商务服务业">租赁和商务服务业</option>
                                <option value="科学研究、技术服务业和地质勘察业">科学研究、技术服务业和地质勘察业</option>
                                <option value="水利、环境和公共设施管理业">水利、环境和公共设施管理业</option>
                                <option value="居民服务和其他服务业">居民服务和其他服务业</option>
                                <option value="教育">教育</option>
                                <option value="生、社会保障和社会福利业">卫生、社会保障和社会福利业</option>
                                <option value="文化、体育和娱乐业">文化、体育和娱乐业</option>
                                <option value="公共管理和社会组织">公共管理和社会组织</option>
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12">
                            <label>单位地址:</label>
                            <input id="OfficeAddress" name="OfficeAddress" class="easyui-textbox" data-options="required:true" />
                        </div>
                    </div>
                </fieldset>

                <fieldset id="Guarantee" class="applicant">
                    <legend>担保人</legend>
                    <div class="hidden">
                        <input name="Type" type="hidden" value="3" />
                        <input name="Id" type="hidden" />
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>姓名:</label>
                            <input id="Name" name="Name" class="easyui-textbox" data-options="required:true" />
                        </div>

                        <div class="col-6">
                            <label>性别:</label>
                            <select id="Sex" name="Sex" class="easyui-combobox" data-options="editable:false">
                                <option value="男">男</option>
                                <option value="女">女</option>
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>学历:</label>
                            <select id="Degree" name="Degree" class="easyui-combobox" data-options="editable:false">
                                <option value="硕士及以上">硕士及以上</option>
                                <option value="本科">本科</option>
                                <option value="大专">大专</option>
                                <option value="高中">高中</option>
                                <option value="初中及以下">初中及以下</option>
                            </select>
                        </div>

                        <div class="col-6">
                            <label>手机:</label>
                            <input id="Mobile" name="Mobile" class="easyui-textbox" data-options="validType:'Mobile',required:true" />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>与申请人关系:</label>
                            <select id="RelationWithMaster" name="RelationWithMaster" class="easyui-combobox" data-options="editable:false">
                                <option value="父母或子女">父母或子女</option>
                                <option value="兄弟姐妹">兄弟姐妹</option>
                                <option value="同事">同事</option>
                                <option value="同学">同学</option>
                                <option value="朋友">朋友</option>
                                <option value="夫妻">夫妻</option>
                                <option value="其他">其他</option>
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>证件类型:</label>
                            <select id="IdentityType" name="IdentityType" class="easyui-combobox" data-options="editable:false">
                                <option value="身份证">身份证</option>
                                <option value="居住证">居住证</option>
                                <option value="户口本">户口本</option>
                                <option value="机动车驾驶证">机动车驾驶证</option>
                                <option value="军官证">军官证</option>
                                <option value="签证">签证</option>
                                <option value="护照">护照</option>
                            </select>
                        </div>

                        <div class="col-6">
                            <label>证件号码:</label>
                            <input id="Identity" name="Identity" class="easyui-textbox" data-options="required:true" />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <label>单位名称:</label>
                            <input id="OfficeName" name="OfficeName" class="easyui-textbox" data-options="required:true" />
                        </div>

                        <div class="col-6">
                            <label>行业:</label>
                            <select id="IndustryType" name="IndustryType" class="easyui-combobox" data-options="editable:false">
                                <option value="农、林、牧、渔业">农、林、牧、渔业</option>
                                <option value="采掘业">采掘业</option>
                                <option value="制造业">制造业</option>
                                <option value="电力、燃气及水的产业和供应业">电力、燃气及水的产业和供应业</option>
                                <option value="建筑业">建筑业</option>
                                <option value="交通运输、仓储和邮政业">交通运输、仓储和邮政业</option>
                                <option value="信息传输、计算机服务和软件业">信息传输、计算机服务和软件业</option>
                                <option value="批发和零售业">批发和零售业</option>
                                <option value="住宿和餐饮业">住宿和餐饮业</option>
                                <option value="金融业">金融业</option>
                                <option value="房地产业">房地产业</option>
                                <option value="租赁和商务服务业">租赁和商务服务业</option>
                                <option value="科学研究、技术服务业和地质勘察业">科学研究、技术服务业和地质勘察业</option>
                                <option value="水利、环境和公共设施管理业">水利、环境和公共设施管理业</option>
                                <option value="居民服务和其他服务业">居民服务和其他服务业</option>
                                <option value="教育">教育</option>
                                <option value="生、社会保障和社会福利业">卫生、社会保障和社会福利业</option>
                                <option value="文化、体育和娱乐业">文化、体育和娱乐业</option>
                                <option value="公共管理和社会组织">公共管理和社会组织</option>
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12">
                            <label>单位地址:</label>
                            <input id="OfficeAddress" name="OfficeAddress" class="easyui-textbox" data-options="required:true" />
                        </div>
                    </div>
                </fieldset>

                <fieldset id="contacts">
                    <legend>
                        联系人
                        <a class="add" onclick="AddContact()">
                            <img src="images/add.png" />
                        </a>
                    </legend>

                    <div id="ContactContent"></div>

                    <template id="contactTemplate">
                        <div class="hidden">
                            <input name="Type" type="hidden" value="4" />
                            <input name="Id" type="hidden" />
                        </div>
                        <div class="minusdiv">
                            <a class="add" onclick="MinusContacts(this)">
                                <img src="images/minus.png" />
                            </a>
                        </div>

                        <div class="row">
                            <div class="col-6">
                                <label>姓名:</label>
                                <input name="Name" class="easyui-textbox" data-options="required:true" />
                            </div>

                            <div class="col-6">
                                <label>性别:</label>
                                <select id="sex" name="sex" class="easyui-combobox" style="width:408px" data-options="required:true">
                                    <option value="男">男</option>
                                    <option value="女">女</option>
                                </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-6">
                                <label>与申请人关系:</label>
                                <select id="RelationWithMaster" name="RelationWithMaster" class="easyui-combobox" style="width:408px" data-options="required:true">
                                    <option value="父母或子女">父母或子女</option>
                                    <option value="兄弟姐妹">兄弟姐妹</option>
                                    <option value="同事">同事</option>
                                    <option value="同学">同学</option>
                                    <option value="朋友">朋友</option>
                                    <option value="夫妻">夫妻</option>
                                    <option value="其他">其他</option>
                                </select>
                            </div>

                            <div class="col-6">
                                <label>移动电话:</label>
                                <input name="Mobile" class="easyui-textbox" data-options="required:true" />
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-12">
                                <label>现居住地址:</label>
                                <input id="LiveHouseAddress" name="LiveHouseAddress" class="easyui-textbox" data-options="required:true" />
                            </div>
                        </div>
                    </template>
                </fieldset>
            </article>
        </div>

        <div id="dd" class="easyui-dialog" data-options="title:'产品详情',width:'70%',height:'600px',modal:true,closed:true">
            <table id="dg" class="easyui-datagrid" data-options="height:530,toolbar:'#tb',rownumbers:true,
                singleSelect: true,
                pagination: true,
                pageSize: 20,
                pageList: [10,20,30,40,50],
                method: 'GET',
                url: '../api/Produce/GetPageList',
                loadMsg: '正在加载，请稍候...',
                onBeforeLoad: BeforeLoad,
                onDblClickCell:ChooseProduce,
                ">
                <thead>
                    <tr>
                        <th data-options="field:'Id',hidden:true">ProduceId</th>
                        <th data-options="field:'Code',width:100,align:'center'">产品代码</th>
                        <th data-options="field:'Name',width:200,align:'center'">产品名称</th>
                        <th data-options="field:'RepaymentMethodDesc',width:120,align:'center'">还款方式</th>
                        <th data-options="field:'MinFinancingRatio',width:100,align:'center'">融资比例下限</th>
                        <th data-options="field:'MaxFinancingRatio',width:100,align:'center'">融资比例上限</th>
                        <th data-options="field:'FinancingPeriods',width:120,align:'center'">融资期限（月）</th>
                        <th data-options="field:'InterestRate',width:120,align:'center'">名义利率（年）</th>
                        <th data-options="field:'CustomerBailRatio',width:120,align:'center'">客户保证金比例</th>
                        <th data-options="field:'FinalRatio',width:120,align:'center'">尾款比例</th>
                    </tr>
                </thead>
            </table>

            <div id="tb">
                <div style="height:30px;">
                    <div style="height:30px; width:auto;">
                        <input id="ProductCodeOrName" class="easyui-textbox" style="width: 200px;height:25px; margin-top:3px;" data-options="prompt:'请输入产品代码或产品名称'" />
                        <a id="search" class="easyui-linkbutton" href="javascript:void(0)" style="width: auto;height:25px; margin-top:3px;" data-options="iconCls:'icon-search',onClick:Reload">搜索</a>
                    </div>
                </div>
            </div>
        </div>

        <div id="btn">
            <a id="save" class="easyui-linkbutton" href="javascript:void(0)" data-options="iconCls:'icon-save',onClick:Submit">保存</a>
        </div>
    </form>
</body>
</html>
