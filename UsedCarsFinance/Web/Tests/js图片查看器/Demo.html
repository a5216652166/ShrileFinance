<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="utf-8">
    <title>图片查看器Demo</title>
    <script src="js/jquery.min.js"></script>
    <script src="js/viewer.min.js"></script>
    <link rel="stylesheet" href="css/viewer.min.css">
    <style type="text/css">
        body {
             width: 700px;
            margin: 0 auto;
            font-size: 0;
        }

        div#viewerContainer div {
            float: left;
        }

            div#viewerContainer div img {
                width: 200px;
                height: 200px;
            }
    </style>


    <script type="text/javascript">
        $(function () {
            setTimeout(
                function () {
                    TestFunction()
                },
            100);
        });

        var viewer = null;

        function TestFunction() {
            // 实例化图片查看器
            viewer = InitPicViewer($("div#viewerContainer"));

            var UrlArray = [];
            for (var i = 1; i < 6; i++)
            {
                UrlArray.push("img/tibet-"+i+".jpg");
            }

            var viewerContainer = $("div#viewerContainer");

            PicViewerLoadPic(UrlArray, viewerContainer);
        }
    </script>

    <script type="text/javascript">
        // 初始化图片查看器 Obj：图片查看器对象
        function InitPicViewer(Obj) {
            if (Obj == undefined) {
                return null;
            }

            return new Viewer($(Obj)[0], options);
        }

        // 启动照片查看器 viewer：照片查看器
        function PicViewerStart(viewer) {
            if (viewer != null) {
                viewer.show();
            }
        }

        // 图片查看器加载图片 UrlArray：图片路径数组，viewerContainer：照片查看器对应的DOM节点
        function PicViewerLoadPic(UrlArray, viewerContainer) {
            // 图片加入照片查看器
            if (Object.prototype.toString.call(UrlArray) === '[object Array]') {
                var template = $("template#viewerContainer").html();

                $(UrlArray).each(function (i, e) {
                    $(viewerContainer).append(template);

                    $(viewerContainer).find("div#li:last").find("img").attr("data-original", e.toString());

                    $(viewerContainer).find("div#li:last").find("img").attr("src", e.toString());

                    $(viewerContainer).find("div#li:last").find("img").attr("alt", "照片" + parseInt(parseInt(i) + 1));

                    $(viewerContainer).find("div#li:last").find("img").dblclick(function () {
                        if (viewer != undefined && viewer != null) {
                            viewer.show();
                        }
                    });
                });

                // 重新实例化照片查看器
                viewer.destroy();
                viewer = InitPicViewer($("div#viewerContainer"));
            }
        }
    </script>
</head>
<body>
    <div id="viewerContainer">
        <template id="viewerContainer">
            <div id="li"><img data-original="" src="" alt="" ondblclick=""></div>
        </template>
    </div>
    <div id="AddPic">
        <div><img data-original="img/田型图片.png"  src="img/田型图片.png" style="width: 200px;height: 200px;" /></div>
    </div>
</body>
</html>