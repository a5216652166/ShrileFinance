<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>机构基本信息记录</title>
    <meta charset="utf-8" />
    <link href="../Content/easyui/themes/bootstrap/easyui.css" rel="stylesheet">
    <link href="../Content/easyui/themes/icon.css" rel="stylesheet">
    <link href="../Content/form-bootstrap.css" rel="stylesheet">
    <script src="../Scripts/jquery/jquery.js"></script>
    <script src="../Scripts/easyui/jquery.easyui.js"></script>
    <script src="../Scripts/easyui/locale/easyui-lang-zh_CN.js"></script>
    <script src="JS/BorrowerMethod.js"></script>
    <script src="JS/validType.js"></script>

    <script type="text/javascript">
        $(function () {
            Init();
        })

        // 初始化
        function Init() {
            // 设置所有是否填写复选框不选中
            $('input[id*=TF]').each(function (index, Obj) {
                Obj.checked = false;
            });

            // 设置除B外的所有section隐藏
            $('section[id!=B]').each(function (index, Obj) {
                $(Obj).hide();
            })

            // 对B设置name
            $('section[id=B]').find('fieldset').attr('name', 'Base');

            // 延时加载其他需要显示的section
            setTimeout(function () {
                var array = new Array("C", "D", "E", "F", "G", "H");

                loadSecctions(array);
            }, 400);
        }

        // 设置部分section显示
        function loadSecctions(array) {
            if (array == undefined || array == null) {
                return false;
            }

            $('div[id=showSecton]').find("input[id*=TF_]").each(function (index, Obj) {
                if ($.inArray($(Obj).attr('id').substr(3, 1), array) != -1) {
                    $(Obj).click();
                }
                else {
                    $(Obj).parent().show();
                }
            });
        }

        // 是否填写 复选框onClick事件
        function checkboxOnclick(Obj, sectionId) {
            Obj.checked = Obj.checked;

            if (Obj.checked) {
                $(Obj).val(1);

                var section = $("section[id=" + sectionId + "]");

                // 点击 + ,添加fileset
                section.find('div:hidden').find("a[id=" + sectionId + "add]").click();

                // 对新增的fieldset设置name
                section.find('fieldset').attr('name', getFieldsetName(sectionId));

                // 显示section
                section.show();
            }
            else {
                $(Obj).val(0);

                // 点击 - ，移除fieldset
                $("section[id=" + sectionId + "]").find('div:hidden').find("a[id*=minus]").click();

                // 隐藏section
                $("section[id=" + sectionId + "]").hide();
            }
        }

        // 获取fieldset相对应的name
        function getFieldsetName(idValue) {
            if (idValue == undefined || idValue == null) {
                return "";
            }

            var IdArray = new Array("B-Base", "C-Property", "D-State", "E-Contact", "F-Managers", "G-Shareholders", "H-AssociatedEnterprises", "I-Parent");
            var resultName = "";

            for (var i = 0; i < IdArray.length; i++) {
                if (IdArray[i].substr(0, 1) == idValue.substr(0, 1)) {
                    resultName = IdArray[i].substr(2);
                    break;
                }
            }

            return resultName;
        }

        // 提交
        function OrganizateSubmit() {
            if ($("#content").form("validate")) {
                $("#save").linkbutton("disable");
            } else {
                $.messager.show({ msg: "请填写剩下的必填内容!" });
                return false;
            }



            var data = {};
            var section = $("#content").find("section");
            //序列化数据
            var temp;
            for (var i = 0; i < section.length; i++) {
                var fs = new Array();
                temp = $(section[i]).attr("id");
                var fieldset = $(section[i]).children("fieldset");
                for (var j = 0; j < fieldset.length; j++) {
                    fs.push($(fieldset[j]).serializeJson())
                }
                data[temp] = fs;
            }
            var str = JSON.stringify(data);
            $("#content").children().children(":hidden").find(":input.validatebox-text").validatebox("disableValidation");
            if (!$("#content").form("validate")) {
                $.messager.show({ msg: "请填写剩下的必填内容!" });
                return false;
            }


        }

        // 取消按钮
        function OrganizateCancel() {
            window.opener.location.href = window.opener.location.href;
            window.close()
        }
    </script>

    <script type="text/javascript">
        function Submit() {
            var base = {
                CustomerNumber: "123123", ManagementerCode: "11111111111111111111", CustomerType: "1", InstitutionCreditCode: "123123123123123123",
                OrganizateCode: "", RegistraterType: "01", RegistraterCode: "123123", TaxpayerIdentifyIrsNumber: "123123123", TaxpayerIdentifyLandNumber: "123133213", LoanCardCode: "1111111111112222", HasParent: "false"
            }
            var Property = {
                InstitutionChName: "yandong", RegisterAddress: "杭州", RegisterAdministrativeDivision: "100101", SetupDate: "2016-01-01", CertificateDueDate: "2016-01-01", BusinessScope: "上面啊司法考试更多",
                RegisterCapital: "10000.23", OrganizationCategory: "1", OrganizationCategorySubdivision: "10", EconomicSectorsClassification: "g2560", EconomicType: "10"
            }
            var State = { EnterpriseScale: "2", InstitutionsState: "1" }
            var Contact = { OfficeAddress: "12345643213", ContactPhone: "13111111111", FinancialContactPhone: "13111111111" }
            var Manager = [{
                Type: "1",
                name: "zhangsan",
                CertificateType: "1",
                CertificateCode: "123123123",
                FamilyMembers: [{
                    Relationship: "1",
                    Name: "xiaozhangsan",
                    CertificateType: "1",
                    CertificateCode: "222222"
                },
                 {
                     Relationship: "2",
                     Name: "xiaozhangsan2",
                     CertificateType: "2",
                     CertificateCode: "11111"
                 }]
             },
                {
                    Type: "2",
                    name: "lisi",
                    CertificateType: "2",
                    CertificateCode: "111111",
                    FamilyMembers: [{
                        Relationship: "3",
                        Name: "xiaolisi",
                        CertificateType: "3",
                        CertificateCode: "3333333"
                    },
                     {
                         Relationship: "4",
                         Name: "xiaolisi2",
                         CertificateType: "4",
                         CertificateCode: "44444"
                     }]
                }
            ];
            var Stockholder = [{
                ShareholdersType: "1",
                ShareholdersName: "股东1",
                RegistraterType: "10",
                RegistraterCode: "123123123123",
                SharesProportion: "10.00",
                FamilyMembers: [{
                    Relationship: "3",
                    Name: "xiaolisi",
                    CertificateType: "3",
                    CertificateCode: "3333333"
                },
                 {
                     Relationship: "4",
                     Name: "xiaolisi2",
                     CertificateType: "4",
                     CertificateCode: "44444"
                 }]
            },
            {
                ShareholdersType: "2",
                ShareholdersName: "股东2",
                RegistraterType: "2",
                RegistraterCode: "222222",
                OrganizateCode: "L1832212-3",
                InstitutionCreditCode: "124124124124123433",
                SharesProportion: "10.00"
            }]
            var AssociatedEnterprise = [{ AssociatedType: "01", Name: "晟融", RegistraterType: "02", RegistraterCode: "2222222222", OrganizateCode: "L1832212-3", InstitutionCreditCode: "123123123123123111" },
            { AssociatedType: "01", Name: "云为", RegistraterType: "02", RegistraterCode: "3333333333", OrganizateCode: "L1832212-3", InstitutionCreditCode: "333333333333333322" }]
            var Parent = { SuperInstitutionsName: "晟融", RegistraterType: "01", RegistraterCode: "1111111111", OrganizateCode: "2222222222", InstitutionCreditCode: "333333333333333333" }

            if (!$("#content").form("validate")) {
                $.messager.show({ msg: "填写剩下的必填内容!" });
                return false;
            }

            var data = {};
            data["Base"] = base;//$("#base").serializeJson();
            data["Property"] = Property;// $("#Properties").serializeJson();
            data["State"] = State;//$("#State").serializeJson();
            data["Contact"] = Contact;// $("#Contact").serializeJson();
            data["Managers"] = Manager;//$("#Manager").serializeJson();//高管
            data["Shareholders"] = Stockholder;//$("#Stockholder").serializeJson();//重要股东
            data["AssociatedEnterprises"] = AssociatedEnterprise;//主要关联企业
            data["Parent"] = Parent;// $("#AssociatedEnterprise").serializeJson();上级机构
            $.ajax({
                async: true,
                data: data,
                type: "POST",
                url: "../api/Customer/Add",
                statusCode: {
                    200: function (data) {
                    },
                    500: function (data) {
                        $.messager.alert('错误', data.responseJSON.ExceptionMessage);
                    },
                    400: function (data) {
                        $.messager.alert('错误', data.responseJSON.Message, "info");
                    }
                }
            })
        }

      
        $(function () {
            $.ajax({
                async: true,
                data: { Id: "CF6D5D97-2D9C-E611-80C5-507B9DE4A488" },
                type: "GET",
                url: "../api/Customer/Get",
                statusCode: {
                    200: function (data) {
                    },
                    500: function (data) {
                        $.messager.alert('错误', data.responseJSON.ExceptionMessage);
                    },
                    400: function (data) {
                        $.messager.alert('错误', data.responseJSON.Message, "info");
                    }
                }
            });
        })
    </script>
</head>
<body>
    <form class="container" id="content">
        <h1 style="text-align:center">
            机构基本信息记录
        </h1>
        <section id="B" min="1" max="1">
            <h2>基础信息</h2>

            <fieldset id="base">
                <input type="hidden" name="InformationCategories" value="B" placeholder="信息类别">

                <div class="row">
                    <div class="col-6">
                        <label>
                            客户号：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:true,validType:['AN','length[1,40]']" name="CustomerNumber">
                    </div>

                    <div class="col-6">
                        <label>
                            管理行代码：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:true,validType:['AN','length[1,20]']" name="ManagementerCode">
                    </div>
                </div>

                <div class="row">
                    <div class="col-6">
                        <label>
                            客户类型：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:false,readonly:true,value:'仅是信贷户客户'" name="CustomerType_Text">
                        <input type="hidden" value="2" name="CustomerType" />
                    </div>
                    <div class="col-6">
                        <label>
                            机构信用代码：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="征信中心赋予该客户的18位机构信用代码">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:false,validType:['AN','length[1,18]']" name="InstitutionCreditCode">
                    </div>
                </div>

                <div class="row">
                    <div class="col-6">
                        <label>
                            组织机构代码：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="质检部门颁发的组织机构代码">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:false,validType:['AN','length[1,10]','OrganizateCode[true]']" name="OrganizateCode">
                    </div>
                    <div class="col-6">
                        <label>
                            登记注册号类型：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="标识登记注册号码的具体类型">　</a>
                        </label>
                        <select class="easyui-combobox  combobox-f combo-f textbox-f" data-options="editable:false,required:false" name="RegistraterType">
                            <option value=""></option>
                            <option value="01">工商注册号</option>
                            <option value="02">机关和事业单位登记号</option>
                            <option value="03">社会团体登记号</option>
                            <option value="04">民办非企业单位登记号</option>
                            <option value="05">基金会登记号</option>
                            <option value="06">宗教活动场所登记号</option>
                            <option value="07">统一社会信用代码</option>
                            <option value="08">商事与非商事登记证号</option>
                            <option value="99">其他</option>
                        </select>
                    </div>
                </div>

                <div class="row">
                    <div class="col-6">
                        <label>
                            登记注册号码：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="填写登记注册证书或签发的批文上的注册号、登记号、批文号，如工商注册号、事业单位证书号、社会团体登记证号等">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:false,validType:['ANC','length[1,20]']" name="RegistraterCode">
                    </div>
                    <div class="col-6">
                        <label>
                            纳税人识别号（国税）：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="机构在国税部门的缴税统一标识">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:false,validType:['ANC','length[1,20]']" name="TaxpayerIdentifyIrsNumber">
                    </div>
                </div>

                <div class="row">
                    <div class="col-6">
                        <label>
                            纳税人识别号（地税）：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="机构在国税部门的缴税统一标识">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:false,validType:['ANC','length[1,20]']" name="TaxpayerIdentifyLandNumber">
                    </div>
                    <div class="col-6">
                        <label>
                            开户许可证核准号：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="机构开立基本户时人民银行颁发的14位开户许可证核准号">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:false,validType:['ANC','length[1,20]']" name="NewaccountlicenseNumber">
                    </div>
                </div>

                <div class="row">
                    <div class="col-6">
                        <label>
                            中征码：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="人民银行颁发的16位贷款卡编码">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:false,validType:['AN','length[1,16]']" name="LoanCardCode">
                    </div>
                    <!--<div class="col-6">
                        <label>
                            数据提取日期：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="">　</a>
                        </label>
                        <input class="easyui-datebox datebox-f combo-f textbox-f" data-options="editable:false ,width:407.75, formatter:myformatter,parser:myparser,required:true,validType:['N','length[1,8]']" name="DataExtractionDate">
                    </div>-->
                </div>

                <div class="row" style="display:block" id="showSecton">
                    <div class="col-12">
                        <span style="display:none"><input type="checkbox" id="TF_C" onclick="checkboxOnclick(this, 'C')" /><span onclick="$(this).parent().find('input[id=TF_C]').click()">基本属性</span>&nbsp;&nbsp;&nbsp;</span>
                        <span style="display:none"><input type="checkbox" id="TF_D" onclick="checkboxOnclick(this, 'D')" /><span onclick="$(this).parent().find('input[id=TF_D]').click()">机构状态</span>&nbsp;&nbsp;&nbsp;</span>
                        <span style="display:none"><input type="checkbox" id="TF_E" onclick="checkboxOnclick(this, 'E')" /><span onclick="$(this).parent().find('input[id=TF_E]').click()">联络信息</span>&nbsp;&nbsp;&nbsp;</span>
                        <span style="display:none"><input type="checkbox" id="TF_F" onclick="checkboxOnclick(this, 'F')" /><span onclick="$(this).parent().find('input[id=TF_F]').click()">填写高管及主要关系人</span>&nbsp;&nbsp;&nbsp;</span>
                        <span style="display:none"><input type="checkbox" id="TF_G" onclick="checkboxOnclick(this, 'G')" /><span onclick="$(this).parent().find('input[id=TF_G]').click()">填写重要股东</span>&nbsp;&nbsp;&nbsp;</span>
                        <span style="display:none"><input type="checkbox" id="TF_H" onclick="checkboxOnclick(this, 'H')" /><span onclick="$(this).parent().find('input[id=TF_H]').click()">填写主要关联企业信息</span>&nbsp;&nbsp;&nbsp;</span>
                        <span style="display:none"><input type="checkbox" id="TF_I" onclick="checkboxOnclick(this, 'I')" name="HasParent" /><span onclick="$(this).parent().find('input[id=TF_I]').click()">上级机构（主管单位）</span></span>
                    </div>
                </div>
            </fieldset>
        </section>

        <section id="C" min="0" max="1">
            <h2>机构属性</h2>

            <div style="background-color:#afe3fa;height:30px ;width:95%;display:none">
                <div float="right" style="width:100%">
                    <a style="margin-top: 2px; margin-right: 10px; float: right; font-size: 24px; text-decoration: none" id="Cadd" onclick="Add(this.id)" href="javascript:void(0)">+</a>
                    <a style=" margin-right: 20px; float: right; font-size: 24px; text-decoration: none" id="Cminus" onclick="Minus(this)" href="javascript:void(0)" hidden="hidden">-</a>
                </div>
            </div>

            <template id="templateC">
                <input type="hidden" name="InformationCategories" value="C" placeholder="信息类别">
                <div class="row">
                    <div class="col-12">
                        <label>
                            机构名称：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="请按照机构登记注册证上或批文上的名称填写">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:false,validType:['ANC','length[1,80]']" name="InstitutionChName">
                    </div>
                </div>

                <div class="row">
                    <div class="col-12">
                        <label>
                            注册登记地址：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="机构登记注册证书或批文上的住所地址，包括所属行政区划名称，乡（镇）、村、街名称和门牌号">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:false,validType:['ANC','length[1,80]']" name="RegisterAddress">
                    </div>
                </div>

                <div class="row">
                    <div class="col-6">
                        <label>
                            注册（登记）地行政区划：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="注册（登记）地址所在地行政区划">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:false,validType:['N','length[1,6]']" name="RegisterAdministrativeDivision">
                    </div>
                    <div class="col-6">
                        <label>
                            成立日期：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="机构登记注册证书或批文上的成立日期或批准成立日期">　</a>
                        </label>
                        <input class="easyui-datebox datebox-f combo-f textbox-f" data-options="editable:false ,width:407.75, formatter:myformatter,parser:myparser,required:false,validType:['N','length[1,8]']" name="SetupDate">
                    </div>
                </div>

                <div class="row">
                    <div class="col-6">
                        <label>
                            证书到期日：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="机构登记证书上记载的有效期最终到期日">　</a>
                        </label>
                        <input class="easyui-datebox datebox-f combo-f textbox-f" data-options="editable:false ,width:407.75, formatter:myformatter,parser:myparser,required:false,validType:['N','length[1,8]']" name="CertificateDueDate">
                    </div>

                </div>

                <div class="row">
                    <div class="col-12">
                        <label>
                            经营（业务）范围：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="机构登记注册证书或签发的批文上的经营范围、职责、宗旨和业务范围等">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:false,validType:['ANC','length[1,400]']" name="BusinessScope">
                    </div>
                </div>


                <div class="row">
                    <div class="col-6">
                        <label>
                            组织机构类别：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="">　</a>
                        </label>
                        <select class="easyui-combobox  combobox-f combo-f textbox-f" data-options="editable:false,required:false" name="OrganizationCategory">
                            <option value=""></option>
                            <option value="1">企业</option>
                            <option value="2">事业单位</option>
                            <option value="3">机关</option>
                            <option value="4">社会团体</option>
                            <option value="7">个体工商户</option>
                            <option value="9">其他</option>
                        </select>
                    </div>
                    <div class="col-6">
                        <label>
                            组织机构类别细分：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="对于组织机构类别的进一步细化分类">　</a>
                        </label>
                        <select class="easyui-combobox  combobox-f combo-f textbox-f" data-options="editable:false,required:false" name="OrganizationCategorySubdivision">
                            <option value=""></option>
                            <option value="10">企业法人</option>
                            <option value="13">个人独资、合伙企业</option>
                            <option value="14">企业的分支机构</option>
                            <option value="11">其他企业</option>
                            <option value="12">农民专业合作社</option>
                            <option value="20">事业法人</option>
                            <option value="21">未登记的事业单位</option>
                            <option value="24">事业单位的分支机构</option>
                            <option value="30">机关法人</option>
                            <option value="31">机关的内设机构</option>
                            <option value="32">机关的下设机构</option>
                            <option value="40">社会团体法人</option>
                            <option value="41">社会团体分支机构</option>
                            <option value="51">民办非企业</option>
                            <option value="52">基金会</option>
                            <option value="53">居委会</option>
                            <option value="54">村委会</option>
                            <option value="60">律师事务所、司法鉴定所</option>
                            <option value="61">宗教活动场所</option>
                            <option value="62">境外在境内成立的组织机构</option>
                            <option value="70">个体工商户</option>
                            <option value="99">其他</option>
                        </select>
                    </div>

                </div>
                <div class="row">
                    <div class="col-6">
                        <label>
                            经济行业分类：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="请填写机构登记注册时的所属行业分类，尽量细化">　</a>
                        </label>
                        <select class="easyui-combotree combobox-f combo-f textbox-f" name="EconomicSectorsClassification" data-options="editable:false,required:false,width:407,
                                async: true,
                                method: 'GET',
                                idField: 'id',
                                textField: 'text',
                                url: '../api/Method/GetIndustry'
                                "></select>
                    </div>
                    <div class="col-6">
                        <label>
                            经济类型：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="指以生产资料的所有制性质和国家有关法规为依据划分的经济类型，包括内资、港、澳、台投资和国外投资等">　</a>
                        </label>
                        <select class="easyui-combobox  combobox-f combo-f textbox-f" data-options="editable:false,required:false" name="EconomicType">
                            <option value=""></option>
                            <option value="10">内资</option>
                            <option value="11">国有全资</option>
                            <option value="12">集体全资</option>
                            <option value="13">股份合作</option>
                            <option value="14">联营</option>
                            <option value="15">有限责任公司</option>
                            <option value="16">股份有限公司</option>
                            <option value="17">私有</option>
                            <option value="19">其它内资</option>
                            <option value="20">港澳台投资</option>
                            <option value="21">内地和港澳台投资</option>
                            <option value="22">内地和港澳台合作</option>
                            <option value="23">港澳台独资</option>
                            <option value="24">港澳台投资股份有限公司</option>
                            <option value="29">其他港澳台投资</option>
                            <option value="30">国外投资</option>
                            <option value="31">中外合资</option>
                            <option value="32">中外合作</option>
                            <option value="33">外资</option>
                            <option value="34">国外投资股份有限公司</option>
                            <option value="39">其他国外投资</option>
                            <option value="90">其他</option>
                        </select>
                    </div>
                </div>

                <div class="row">
                    <div class="col-6">
                        <label>
                            注册资本：
                            <a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="机构登记登记注册证书或签发的批文上的注册资本、开办资金、原始基金数额，四舍五入保留2位小数，单位为万元">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:false,validType:['AN','length[1,10]','PositiveNumber','Amount']" name="RegisterCapital"><span>万元</span>
                    </div>
                </div>
            </template>
        </section>

        <section id="D" min="0" max="1">
            <h2>机构状态</h2>

            <div style="background-color:#afe3fa;height:30px ;width:95%;display:none">
                <div float="right" style="width:100%">
                    <a style="margin-top: 2px; margin-right: 10px; float: right; font-size: 24px; text-decoration: none" id="Dadd" onclick="Add(this.id)" href="javascript:void(0)">+</a>
                    <a style=" margin-right: 20px; float: right; font-size: 24px; text-decoration: none" id="Dminus" onclick="Minus(this)" href="javascript:void(0)" hidden="hidden">-</a>
                </div>
            </div>

            <template id="templateD">
                <input type="hidden" name="InformationCategories" value="D" placeholder="信息类别">
                <div class="row">
                    <!--<div class="col-6">
                        <label>
                            基本户状态：<a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="标识基本户账户目前的状态">　</a>
                        </label>
                        <select class="easyui-combobox  combobox-f combo-f textbox-f" data-options="editable:false,required:false,validType:['AN','length[1,1]']" name="BasicAccountState">
                            <option value=""></option>
                            <option value="1">正常</option>
                            <option value="2">久悬</option>
                            <option value="3">注销</option>
                            <option value="4">待审核</option>
                            <option value="9">其他</option>
                            <option value="X">未知</option>
                        </select>
                    </div>-->
                    <div class="col-6">
                        <label>
                            企业规模：<a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="按照工业和信息化部、国家统计局、发展改革委、财政部联合印发的《关于印发中小企业划型标准规定的通知》（工信部联企业〔2011〕300号）执行">　</a>
                        </label>
                        <select class="easyui-combobox  combobox-f combo-f textbox-f" data-options="editable:false,required:false" name="EnterpriseScale">
                            <option value=""></option>
                            <option value="2">大型企业</option>
                            <option value="3">中型企业</option>
                            <option value="4">小型企业</option>
                            <option value="5">微型企业</option>
                            <option value="9">其他</option>
                            <option value="X">未知</option>
                        </select>
                    </div>
                    <!--</div>

                    <div class="row">-->
                    <div class="col-6">
                        <label>
                            机构状态：<a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="机构目前的活动状态，其中注销状态是指机构从登记部门注销登记或注销备案">　</a>
                        </label>
                        <select class="easyui-combobox  combobox-f combo-f textbox-f" data-options="editable:false,required:false" name="InstitutionsState">
                            <option value=""></option>
                            <option value="1">正常</option>
                            <option value="2">注销</option>
                            <option value="9">其他</option>
                            <option value="X">未知</option>
                        </select>
                    </div>
                    <!--<div class="col-6">
                        <label>
                            信息更新日期：<a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="">　</a>
                        </label>
                        <input class="easyui-datebox datebox-f combo-f textbox-f" data-options="editable:false ,width:407.75, formatter:myformatter,parser:myparser,required:true,validType:['N','length[1,8]']" name="InformationUpdateDate">
                    </div>-->
                </div>
            </template>
        </section>

        <section id="E" min="0" max="1">
            <h2>机构联络</h2>

            <div style="background-color:#afe3fa;height:30px ;width:95%;display:none">
                <div float="right" style="width:100%">
                    <a style="margin-top: 2px; margin-right: 10px; float: right; font-size: 24px; text-decoration: none" id="Eadd" onclick="Add(this.id)" href="javascript:void(0)">+</a>
                    <a style=" margin-right: 20px; float: right; font-size: 24px; text-decoration: none" id="Eminus" onclick="Minus(this)" href="javascript:void(0)" hidden="hidden">-</a>
                </div>
            </div>

            <template id="templateE">
                <input type="hidden" name="InformationCategories" value="E" placeholder="信息类别">

                <div class="row">
                    <div class="col-12">
                        <label>
                            办公（生产、经营）地址：<a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="机构的办公地址或生产、经营地址，包括所属行政区划名称，乡（镇）、村、街名称和门牌号，如以上三类地址都有，请填写常用的通讯地址">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:false,validType:['ANC','length[1,80]']" name="OfficeAddress">
                    </div>
                </div>

                <div class="row">
                    <div class="col-6">
                        <label>
                            联系电话：<a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="填写机构的联系电话，参考格式：国别号/地区号－区号－电话号码（－分机号）">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:false,validType:['AN','length[1,35]']" name="ContactPhone">
                    </div>
                    <div class="col-6">
                        <label>
                            财务部联系电话：<a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="参考格式：国别号/地区号－区号－电话号码（－分机号），填写财务部或财务人员的联系电话">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:false,validType:['AN','length[1,35]']" name="FinancialContactPhone">
                    </div>
                </div>

                <!--<div class="row">
                    <div class="col-6">
                        <label>
                            信息更新日期：<a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="">　</a>
                        </label>
                        <input class="easyui-datebox datebox-f combo-f textbox-f" data-options="editable:false ,width:407.75, formatter:myformatter,parser:myparser,required:true,validType:['N','length[1,8]']" name="InformationUpdateDate">
                    </div>
                </div>-->
            </template>
        </section>

        <section id="F" min="0" max="n">
            <h2>高级主管</h2>

            <fieldset id="F">
                <!--高管及主要关系人-->
                <table id="ExecutivesMajorParticipant_dg" class="easyui-datagrid" style="width:890px;" data-options="toolbar: '#ExecutivesMajorParticipant_tb',
                   rownumbers:true,
                   singleSelect:true,
                   onSelect:ExecutivesMajorParticipantSelect,
                   title:'高管及主要关系人'
                   ">
                    <thead>
                        <tr>
                            <th data-options="field:'InformationCategories',hidden:true">信息类别</th>
                            <th data-options="field:'Type',width:200,align:'center',hidden:true">关系人类型</th>
                            <th data-options="field:'Type_Txt',width:200,align:'center'">关系人类型</th>
                            <th data-options="field:'Name',width:200,align:'center'">姓名</th>
                            <th data-options="field:'CertificateType',width:200,align:'center',hidden:true">证件类型</th>
                            <th data-options="field:'CertificateType_Txt',width:200,align:'center'">证件类型</th>
                            <th data-options="field:'CertificateCode',width:240,align:'center'">证件号码</th>
                            <th data-options="field:'FamilyMembers',hidden:true">家族成员信息json</th>
                        </tr>
                    </thead>
                </table>

                <div id="ExecutivesMajorParticipant_tb" style="height:30px;">
                    <a id="ExecutivesMajorParticipant_add" class="easyui-linkbutton" href="javascript:void(0)" data-options="onClick:ExecutivesMajorParticipantEdit,iconCls:'icon-add',plain:true">添加</a>
                    <a id="ExecutivesMajorParticipant_mod" class="easyui-linkbutton" href="javascript:void(0)" data-options="onClick:ExecutivesMajorParticipantEdit,iconCls:'icon-edit',plain:true,disabled:true">编辑</a>
                    <a id="ExecutivesMajorParticipant_del" class="easyui-linkbutton" href="javascript:void(0)" data-options="onClick:ExecutivesMajorParticipantDelete,iconCls:'icon-remove',plain:true,disabled:true">删除</a>
                    <a id="ExecutivesMajorParticipant_view" class="easyui-linkbutton" href="javascript:void(0)" data-options="onClick:ExecutivesMajorParticipantEdit,iconCls:'icon-search',plain:true,disabled:true">查看</a>
                </div>
                <script type="text/javascript">
                // table onSelect事件
                function ExecutivesMajorParticipantSelect(index, row) {
                    if (row) {
                        $("#ExecutivesMajorParticipant_mod").linkbutton("enable");
                        $("#ExecutivesMajorParticipant_del").linkbutton("enable");
                        $("#ExecutivesMajorParticipant_view").linkbutton("enable");
                    }
                }

                // table 删除按钮
                function ExecutivesMajorParticipantDelete() {
                    var row = $('#ExecutivesMajorParticipant_dg').datagrid('getSelected');

                    if (row) {
                        $.messager.confirm('确认', '确认删除该家族成员信息?', function (r) {
                            if (r) {
                                var rowIndex = $('#ExecutivesMajorParticipant_dg').datagrid('getRowIndex', row);

                                $('#ExecutivesMajorParticipant_dg').datagrid('deleteRow', rowIndex);
                            }
                        })
                    }
                }

                // table 添加/编辑按钮
                function ExecutivesMajorParticipantEdit() {
                    var url = "ContentPages/ExecutivesMajorParticipantPage.html?method=" + this.id;

                    if (this.id != "ExecutivesMajorParticipant_add") {
                        var row = $('#ExecutivesMajorParticipant_dg').datagrid('getSelected');

                        if (!row) {
                            return false;
                        }
                    }

                    $("#ExecutivesMajorParticipant_frame").attr("src", url);

                    // 打开弹窗
                    $("#ExecutivesMajorParticipant_dd").dialog({ closed: false });
                }
                </script>
                <div id="ExecutivesMajorParticipant_dd" class="easyui-dialog" data-options="title:'高管及主要关系人',width:'80%',height:'800px',top:1900,modal:true,closed:true">
                    <iframe id="ExecutivesMajorParticipant_frame" name="family_frame" src="about:blank" style="width:100%;height:99%; border:0;"></iframe>
                </div>
            </fieldset>
        </section>

        <section id="G" min="0" max="n">
            <h2>重要股东</h2>

            <fieldset id="G">
                <!--重要股东-->
                <table id="MajorShareholder_dg" class="easyui-datagrid" style="width:890px;" data-options="toolbar: '#MajorShareholder_tb',
                   rownumbers:true,
                   singleSelect:true,
                   onSelect:MajorShareholderSelect,
                   title:'重要股东'
                   ">
                    <thead>
                        <tr>
                            <th data-options="field:'InformationCategories',hidden:true">信息类别</th>
                            <th data-options="field:'ShareholdersType',hidden:true"></th>
                            <th data-options="field:'ShareholdersType_Txt',width:100,align:'center'">股东类型</th>
                            <th data-options="field:'ShareholdersName',width:100,align:'center'">股东名称</th>
                            <th data-options="field:'RegistraterType',hidden:true"></th>
                            <th data-options="field:'RegistraterType_Txt',width:120,align:'center'">证件类型/登记注册号类型</th>
                            <th data-options="field:'RegistraterCode',width:150,align:'center'">证件号码/登记注册号码</th>
                            <th data-options="field:'OrganizateCode',width:100,align:'center'">组织机构代码</th>
                            <th data-options="field:'InstitutionCreditCode',width:150,align:'center'">机构信用代码</th>
                            <th data-options="field:'SharesProportion',width:100,align:'center'">持股比例(%)</th>
                            <th data-options="field:'FamilyMembers',hidden:true">家族成员信息json</th>
                        </tr>
                    </thead>
                </table>

                <div id="MajorShareholder_tb" style="height:30px;">
                    <a id="MajorShareholder_add" class="easyui-linkbutton" href="javascript:void(0)" data-options="onClick:MajorShareholderEdit,iconCls:'icon-add',plain:true">添加</a>
                    <a id="MajorShareholder_mod" class="easyui-linkbutton" href="javascript:void(0)" data-options="onClick:MajorShareholderEdit,iconCls:'icon-edit',plain:true,disabled:true">编辑</a>
                    <a id="MajorShareholder_del" class="easyui-linkbutton" href="javascript:void(0)" data-options="onClick:MajorShareholderDelete,iconCls:'icon-remove',plain:true,disabled:true">删除</a>
                    <a id="MajorShareholder_view" class="easyui-linkbutton" href="javascript:void(0)" data-options="onClick:MajorShareholderEdit,iconCls:'icon-search',plain:true,disabled:true">查看</a>
                </div>
                <script type="text/javascript">
                // table onSelect事件
                function MajorShareholderSelect(index, row) {
                    if (row) {
                        $("#MajorShareholder_mod").linkbutton("enable");
                        $("#MajorShareholder_del").linkbutton("enable");
                        $("#MajorShareholder_view").linkbutton("enable");
                    }
                }

                // table 删除按钮
                function MajorShareholderDelete() {
                    var row = $('#MajorShareholder_dg').datagrid('getSelected');

                    if (row) {
                        $.messager.confirm('确认', '确认删除该家族成员信息?', function (r) {
                            if (r) {
                                var rowIndex = $('#MajorShareholder_dg').datagrid('getRowIndex', row);

                                $('#MajorShareholder_dg').datagrid('deleteRow', rowIndex);
                            }
                        })
                    }
                }

                // table 添加/编辑按钮
                function MajorShareholderEdit() {
                    var url = "ContentPages/MajorShareholderPage.html?method=" + this.id;

                    if (this.id != "MajorShareholder_add") {
                        var row = $('#MajorShareholder_dg').datagrid('getSelected');

                        if (!row) {
                            return false;
                        }
                    }

                    $("#MajorShareholder_frame").attr("src", url);

                    // 打开弹窗
                    $("#MajorShareholder_dd").dialog({ closed: false });
                }
                </script>
                <div id="MajorShareholder_dd" class="easyui-dialog" data-options="title:'重要股东',width:'80%',height:'800px',top:2200,modal:true,closed:true">
                    <iframe id="MajorShareholder_frame" name="MajorShareholder_frame" src="about:blank" style="width:100%;height:99%; border:0;"></iframe>
                </div>
            </fieldset>
        </section>

        <section id="H" min="0" max="n">
            <h2>主要关联企业</h2>
            <fieldset id="H">
                <!--主要关联企业-->
                <table id="MainAssociatedEnterprise_dg" class="easyui-datagrid" style="width:890px;" data-options="toolbar: '#MainAssociatedEnterprise_tb',
                   rownumbers:true,
                   singleSelect:true,
                   onSelect:MainAssociatedEnterpriseSelect,
                   title:'主要关联企业'
                   ">
                    <thead>
                        <tr>
                            <th data-options="field:'InformationCategories',hidden:true">信息类别</th>
                            <th data-options="field:'AssociatedType',width:200,align:'center',hidden:true"></th>
                            <th data-options="field:'AssociatedType_Txt',width:100,align:'center',hidden:true">关联类型</th>
                            <th data-options="field:'Name',width:110,align:'center'">关联企业名称</th>
                            <th data-options="field:'RegistraterType',width:200,align:'center',hidden:true"></th>
                            <th data-options="field:'RegistraterType_Txt',width:110,align:'center'">登记注册号类型</th>
                            <th data-options="field:'RegistraterCode',width:200,align:'center'">登记注册号码</th>
                            <th data-options="field:'OrganizateCode',width:200,align:'center'">组织机构代码</th>
                            <th data-options="field:'InstitutionCreditCode',width:200,align:'center'">机构信用代码</th>
                            <th data-options="field:'',hidden:true">家族成员信息json</th>
                        </tr>
                    </thead>
                </table>

                <div id="MainAssociatedEnterprise_tb" style="height:30px;">
                    <a id="MainAssociatedEnterprise_add" class="easyui-linkbutton" href="javascript:void(0)" data-options="onClick:MainAssociatedEnterpriseEdit,iconCls:'icon-add',plain:true">添加</a>
                    <a id="MainAssociatedEnterprise_mod" class="easyui-linkbutton" href="javascript:void(0)" data-options="onClick:MainAssociatedEnterpriseEdit,iconCls:'icon-edit',plain:true,disabled:true">编辑</a>
                    <a id="MainAssociatedEnterprise_del" class="easyui-linkbutton" href="javascript:void(0)" data-options="onClick:MainAssociatedEnterpriseDelete,iconCls:'icon-remove',plain:true,disabled:true">删除</a>
                    <a id="MainAssociatedEnterprise_view" class="easyui-linkbutton" href="javascript:void(0)" data-options="onClick:MainAssociatedEnterpriseEdit,iconCls:'icon-search',plain:true,disabled:true">查看</a>
                </div>
                <script type="text/javascript">
                    // table onSelect事件
                    function MainAssociatedEnterpriseSelect(index, row) {
                        if (row) {
                            $("#MainAssociatedEnterprise_mod").linkbutton("enable");
                            $("#MainAssociatedEnterprise_del").linkbutton("enable");
                            $("#MainAssociatedEnterprise_view").linkbutton("enable");
                        }
                    }

                    // table 删除按钮
                    function MainAssociatedEnterpriseDelete() {
                        var row = $('#MainAssociatedEnterprise_dg').datagrid('getSelected');

                        if (row) {
                            $.messager.confirm('确认', '确认删除该家族成员信息?', function (r) {
                                if (r) {
                                    var rowIndex = $('#MainAssociatedEnterprise_dg').datagrid('getRowIndex', row);

                                    $('#MainAssociatedEnterprise_dg').datagrid('deleteRow', rowIndex);
                                }
                            })
                        }
                    }

                    // table 添加/编辑按钮
                    function MainAssociatedEnterpriseEdit() {
                        var url = "ContentPages/MainAssociatedEnterprisePage.html?method=" + this.id;

                        if (this.id != "MainAssociatedEnterprise_add") {
                            var row = $('#MainAssociatedEnterprise_dg').datagrid('getSelected');

                            if (!row) {
                                return false;
                            }
                        }

                        $("#MainAssociatedEnterprise_frame").attr("src", url);

                        // 打开弹窗
                        $("#MainAssociatedEnterprise_dd").dialog({ closed: false });
                    }
                </script>
                <div id="MainAssociatedEnterprise_dd" class="easyui-dialog" data-options="title:'主要关联企业',width:'80%',height:'600px',top:2100,modal:true,closed:true">
                    <iframe id="MainAssociatedEnterprise_frame" name="MainAssociatedEnterprise_frame" src="about:blank" style="width:100%;height:99%; border:0;"></iframe>
                </div>
            </fieldset>
        </section>

        <section id="I" min="0" max="1">
            <h2>上级机构（主管单位）</h2>

            <div style="background-color:#afe3fa;height:30px ;width:95%;display:none">
                <div float="right" style="width:100%">
                    <a style="margin-top: 2px; margin-right: 10px; float: right; font-size: 24px; text-decoration: none" id="Iadd" onclick="Add(this.id)" href="javascript:void(0)">+</a>
                    <a style=" margin-right: 20px; float: right; font-size: 24px; text-decoration: none" id="Iminus" onclick="Minus(this)" href="javascript:void(0)" hidden="hidden">-</a>
                </div>
            </div>

            <template id="templateI">
                <input type="hidden" name="InformationCategories" value="H" placeholder="信息类别">

                <div class="row">
                    <div class="col-12">
                        <label>
                            上级机构名称：<a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="上级机构或主管单位名称">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:true,validType:['ANC','length[1,80]']" name="SuperInstitutionsName">
                    </div>
                </div>

                <div class="row">
                    <div class="col-6">
                        <label>
                            登记注册号类型：<a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="上级机构或主管单位的登记注册号类型">　</a>
                        </label>
                        <select class="easyui-combobox  combobox-f combo-f textbox-f" data-options="editable:false,required:false" name="RegistraterType">
                            <option value=""></option>
                            <option value="01">工商注册号</option>
                            <option value="02">机关和事业单位登记号</option>
                            <option value="03">社会团体登记号</option>
                            <option value="04">民办非企业单位登记号</option>
                            <option value="05">基金会登记号</option>
                            <option value="06">宗教活动场所登记号</option>
                            <option value="07">统一社会信用代码</option>
                            <option value="08">商事与非商事登记证号</option>
                            <option value="99">其他</option>
                        </select>
                    </div>
                    <div class="col-6">
                        <label>
                            登记注册号：<a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="上级机构或主管单登记注册证书或签发的批文上的注册号、登记号、文号，如工商注册号、事业单位证书号、社会团体登记证号等">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:true,validType:['ANC','length[1,20]']" name="RegistraterCode">
                    </div>
                </div>

                <div class="row">
                    <div class="col-6">
                        <label>
                            组织机构代码：<a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="质检部门颁发给该上级机构或主管单位的组织机构代码">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:false,validType:['AN','length[1,10]','OrganizateCode[true]']" name="OrganizateCode">
                    </div>
                    <div class="col-6">
                        <label>
                            机构信用代码：<a class="easyui-tooltip tooltip-f" style="background:rgba(0, 0, 0, 0) url('img/InfoImg.png') no-repeat scroll 0 0" title="征信中心赋予该上级机构或主管单位的18位机构信用代码">　</a>
                        </label>
                        <input class="easyui-textbox textbox-f" data-options="required:false,validType:['AN','length[1,18]']" name="InstitutionCreditCode">
                    </div>
                </div>
            </template>
        </section>

        <div id="btn">
            <a id="submit" class="easyui-linkbutton" data-options="iconCls: 'icon-edit'" style="margin:0 auto" onclick="OrganizateSubmit()">提交</a>
            <a id="submit" class="easyui-linkbutton" data-options="iconCls: 'icon-redo'" style="margin:0 auto" onclick="OrganizateCancel()">取消</a>
        </div>
    </form>
</body>
</html>
